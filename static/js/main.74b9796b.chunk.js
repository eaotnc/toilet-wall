(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,a){},151:function(t,e,a){"use strict";a.r(e);var n=a(1),o=a.n(n),i=a(28),r=a.n(i),s=(a(91),a(40)),c=a(20),l=a(21),d=a(25),h=a(23),u=a(24),m=a(38),v=a(54),f=a.n(v),p=a(153),b=(a(105),a(106),a(22)),w=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).state={style:{transform:"translate(".concat(a.props.from[0],"px, ").concat(a.props.from[1],"px) rotate(").concat(360*Math.random(),"deg)")}},a.setStyle=a.setStyle.bind(Object(b.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){setTimeout(this.setStyle,1)}},{key:"setStyle",value:function(){var t="translate(".concat(Math.random()*window.innerHeight*2,"px, ").concat(Math.random()*window.innerWidth*2,"px) rotate(").concat(360*Math.random(),"deg)"),e=this.props,a=e.time,n=e.size,o={position:"absolute",zIndex:"-1",transform:t,transition:"transform ".concat(a,"s ease-out"),MsTransform:t,MsTransition:"transform ".concat(a,"s ease-out"),Webkitransform:t,WebkitTransition:"transform ".concat(a,"s ease-out"),overflow:"visible",willChange:"transform"},i={width:n,height:"auto"};this.setState({style:o,size:i}),setTimeout(this.setStyle,1e3*a)}},{key:"render",value:function(){var t=this,e=this.state,a=e.style;e.size;return o.a.createElement("div",{style:a},o.a.createElement(m.a,{style:{background:"#ff000000"},disabled:!0,hideGrid:!0,canvasWidth:190,canvasHeight:150,ref:function(e){return t.loadableCanvas=e},saveData:this.props.savedPicture}))}}]),e}(o.a.Component),g=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(h.a)(e).call(this,t))).initState=function(){for(var t=a.props.how,e=[],n=0;n<t;n++)e.push(a.movement());a.setState({moves:e})},a.state={moves:[]},a.movement=a.movement.bind(Object(b.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.initState()}},{key:"componentWillReceiveProps",value:function(){this.initState()}},{key:"movement",value:function(){return{rotation:Math.floor(600*(2*Math.round(Math.random())-1)),fromX:Math.floor(Math.random()*window.innerWidth),fromY:Math.floor(Math.random()*window.innerHeight*1.5),toX:Math.floor(Math.random()*window.innerWidth*(2*Math.round(Math.random())-1)),toY:Math.floor(Math.random()*window.innerHeight*1.5*(2*Math.round(Math.random())-1))}}},{key:"render",value:function(){var t=this,e=this.props,a=e.savedPictureList,n=e.background,i=e.size,r=e.time,s={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",margin:"0",padding:"0",overflow:"hidden",zIndex:"-1",background:n};return o.a.createElement("div",{style:s,id:"sky"},this.state.moves.map(function(e,n){var s=Math.floor(Math.random()*a.length);return o.a.createElement(w,{savedPicture:a[s],from:[e.fromX,e.fromY],to:[e.toX,e.toY],rotation:e.rotation,size:i,time:r,key:n}," ",t.props.children)}))}}]),e}(o.a.Component);g.defaultProps={size:"150px",background:"",time:20,children:null};var y=g,M=f.a.initializeApp({apiKey:"AIzaSyDPSLUchbojKkZQI2oMLa5eUB67Qyyg65w",authDomain:"toilet-wall.firebaseapp.com",projectId:"toilet-wall"}).firestore(),k=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(o)))).state={color:"#"+Math.floor(16777215*Math.random()).toString(16),width:400,height:350,brushRadius:3,lazyRadius:5,oldpic:[],savedPictureList:[]},a.handleSavePicture=function(){a.handleRandomColor();var t=JSON.parse(a.saveableCanvas.getSaveData()),e=a.saveableCanvas.getSaveData();if(t.lines.length>0){var n=[].concat(Object(s.a)(a.state.savedPictureList),[e]);a.setState({savedPictureList:n}),M.collection("toilet-wall").doc().set({vector:e})}},a.handleRandomColor=function(){a.setState({color:"#"+Math.floor(16777215*Math.random()).toString(16)})},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;M.collection("toilet-wall").get().then(function(e){var a=e.docs.map(function(t){return t.data().vector});t.setState({oldpic:a,loading:!1}),console.log("data",a)})}},{key:"render",value:function(){var t=this,e=this.state,a=e.savedPictureList,n=e.oldpic;return o.a.createElement("div",{className:"App"},o.a.createElement(y,{size:"50px",time:50,how:a.length+n.length+5,savedPictureList:[].concat(Object(s.a)(n),Object(s.a)(a))}),o.a.createElement("div",{className:"canvas-drower "},o.a.createElement(p.a,{className:"refrech-bt",onClick:this.handleRandomColor},"refrech"),o.a.createElement("div",{className:"label"},"Toilet Wall"),o.a.createElement(m.a,{style:{background:"#6b6b6b47",zIndex:"25",borderRadius:"14px"},hideGrid:!0,ref:function(e){return t.saveableCanvas=e},brushColor:this.state.color,brushRadius:this.state.brushRadius,lazyRadius:this.state.lazyRadius,canvasWidth:this.state.width,canvasHeight:this.state.height}),o.a.createElement("div",null,o.a.createElement(p.a,{onClick:function(){t.handleSavePicture()}}," Save  "),o.a.createElement(p.a,{onClick:function(){t.saveableCanvas.clear()}},"Clear"),o.a.createElement(p.a,{onClick:function(){t.saveableCanvas.undo()}},"Undo"),o.a.createElement(p.a,{style:{marginLeft:"10px"},onClick:this.handleRandomColor}," change Color  "))))}}]),e}(n.Component),S=function(){return o.a.createElement(k,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},86:function(t,e,a){t.exports=a(151)},91:function(t,e,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.74b9796b.chunk.js.map