(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,a){},151:function(t,e,a){"use strict";a.r(e);var n=a(1),o=a.n(n),i=a(27),r=a.n(i),s=(a(91),a(40)),c=a(20),l=a(21),u=a(24),d=a(22),h=a(23),m=a(38),v=a(54),f=a.n(v),p=a(153),b=(a(105),a(106),a(35)),g=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(u.a)(this,Object(d.a)(e).call(this,t))).state={style:{transform:"translate(".concat(a.props.from[0],"px, ").concat(a.props.from[1],"px) rotate(").concat(360*Math.random(),"deg)")}},a.setStyle=a.setStyle.bind(Object(b.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){setTimeout(this.setStyle,1)}},{key:"setStyle",value:function(){var t="translate(".concat(Math.random()*window.innerHeight*2,"px, ").concat(Math.random()*window.innerWidth*2,"px) rotate(").concat(360*Math.random(),"deg)"),e=this.props,a=e.time,n=e.size,o={position:"absolute",zIndex:"-1",transform:t,transition:"transform ".concat(a,"s ease-out"),MsTransform:t,MsTransition:"transform ".concat(a,"s ease-out"),Webkitransform:t,WebkitTransition:"transform ".concat(a,"s ease-out"),overflow:"visible",willChange:"transform"},i={width:n,height:"auto"};this.setState({style:o,size:i}),setTimeout(this.setStyle,1e3*a)}},{key:"render",value:function(){var t=this,e=this.state,a=e.style;e.size;return o.a.createElement("div",{style:a},o.a.createElement(m.a,{style:{background:"#ff000000"},hideGrid:!0,canvasWidth:190,canvasHeight:150,immediateLoading:!0,ref:function(e){return t.loadableCanvas=e},saveData:this.props.savedPicture}))}}]),e}(o.a.Component),y=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={moves:[]},a.initState=function(){for(var t=a.props.pictureAmount,e=[],n=0;n<t;n+=1)e.push(a.movement());a.setState({moves:e})},a.movement=function(){return{rotation:5,fromX:250,fromY:200,toX:10,toY:20}},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.initState()}},{key:"componentWillReceiveProps",value:function(){this.initState()}},{key:"render",value:function(){var t=this,e=this.props,a=e.savedPictureList,n=e.background,i=e.size,r=e.time,s={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",margin:"0",padding:"0",overflow:"hidden",zIndex:"-1",background:n};return console.log("state.move",this.state.moves),o.a.createElement("div",{style:s,id:"sky"},this.state.moves.map(function(e,n){var s=Math.floor(Math.random()*a.length);return console.log("contitional",s),o.a.createElement(g,{savedPicture:a[s],from:[e.fromX,e.fromY],to:[e.toX,e.toY],rotation:e.rotation,size:i,time:r,key:n},t.props.children)}))}}]),e}(o.a.Component);y.defaultProps={size:"150px",background:"",time:20,children:null};var w=y,k=f.a.initializeApp({apiKey:"AIzaSyDPSLUchbojKkZQI2oMLa5eUB67Qyyg65w",authDomain:"toilet-wall.firebaseapp.com",projectId:"toilet-wall"}).firestore(),S=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).state={color:"#".concat(Math.floor(16777215*Math.random()).toString(16)),width:400,height:350,brushRadius:3,lazyRadius:5,oldpic:[],savedPictureList:[],loading:!0},a.handleSavePicture=function(){a.handleRandomColor();var t=JSON.parse(a.saveableCanvas.getSaveData()),e=a.saveableCanvas.getSaveData();t.lines.length>0&&(a.setState({savedPictureList:[].concat(Object(s.a)(a.state.savedPictureList),[e])}),k.collection("toilet-wall").doc().set({vector:e}))},a.handleRandomColor=function(){a.setState({color:"#".concat(Math.floor(16777215*Math.random()).toString(16))})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;k.collection("toilet-wall").get().then(function(e){var a=e.docs.map(function(t){return t.data().vector});t.setState({oldpic:a,loading:!1})})}},{key:"render",value:function(){var t=this,e=this.state,a=e.savedPictureList,n=e.oldpic,i=e.color,r=e.brushRadius,c=e.lazyRadius,l=e.width,u=e.height,d=e.loading;return o.a.createElement("div",{className:"App"},d?null:o.a.createElement(w,{size:"50px",time:20,pictureAmount:Math.min(a.length+n.length+5,40),savedPictureList:[].concat(Object(s.a)(n),Object(s.a)(a))}),o.a.createElement("div",{className:"canvas-drower "},o.a.createElement(p.a,{className:"refresh-bt",onClick:this.handleRandomColor},"refresh"),o.a.createElement("div",{className:"label"},"Toilet Wall"),o.a.createElement(m.a,{style:{background:"#6b6b6b47",zIndex:"25",borderRadius:"14px"},hideGrid:!0,ref:function(e){return t.saveableCanvas=e},brushColor:i,brushRadius:r,lazyRadius:c,canvasWidth:l,canvasHeight:u}),o.a.createElement("div",null,o.a.createElement(p.a,{onClick:function(){t.handleSavePicture()}}," Save"),o.a.createElement(p.a,{onClick:function(){t.saveableCanvas.clear()}},"Clear"),o.a.createElement(p.a,{onClick:function(){t.saveableCanvas.undo()}},"Undo"),o.a.createElement(p.a,{style:{marginLeft:"10px"},onClick:this.handleRandomColor}," change Color  "))))}}]),e}(n.Component),C=function(){return o.a.createElement(S,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},86:function(t,e,a){t.exports=a(151)},91:function(t,e,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.81d7f9e0.chunk.js.map